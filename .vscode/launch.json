// A launch configuration that compiles the extension and then opens it inside a new window
// Use IntelliSense to learn about possible attributes.
// Hover to view descriptions of existing attributes.
// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Run MCP Inspector",
      "type": "node",
      "request": "launch",
      "localRoot": "${workspaceFolder}/packages/mcp-server",
      "runtimeExecutable": "npm",
      "runtimeArgs": [
        "run",
        "inspect"
      ]
    },
    {
      "name": "Run MCP Server",
      "type": "node",
      "request": "launch",
      "localRoot": "${workspaceFolder}/packages/mcp-server",
      "runtimeExecutable": "npm",
      "runtimeArgs": [
        "run",
        "dev"
      ]
    },
    {
      "name": "Run Extension",
      "type": "extensionHost",
      "request": "launch",
      "args": [
        "--extensionDevelopmentPath=${workspaceFolder}/packages/mcp-adapter-vscode",
        "${workspaceFolder}/packages/demos/nodejs",
      ],
      "outFiles": [
        "${workspaceFolder}/packages/mcp-adapter-vscode/dist/**/*.js"
      ],
      "preLaunchTask": "npm: build:watch - packages/mcp-adapter-vscode",
    },
    {
      "name": "Build MCP Core",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run build:watch",
      "cwd": "${workspaceFolder}/packages/mcp-core"
    },
    {
      "name": "Build MCP Server",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run build:watch",
      "cwd": "${workspaceFolder}/packages/mcp-server"
    },
    {
      "name": "Build Extension",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run build:watch",
      "cwd": "${workspaceFolder}/packages/mcp-adapter-vscode"
    },
  ],
  "compounds": [
    {
      "name": "Developer Mode",
      "configurations": [
        "Run MCP Inspector",
        "Run MCP Server",
        "Run Extension"
      ]
    },
    {
      "name": "Build mode",
      "configurations": [
        "Build MCP Core",
        "Build MCP Server",
        "Build Extension"
      ]
    },
  ]
}